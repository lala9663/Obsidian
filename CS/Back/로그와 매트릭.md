로그는 서버가 동작할 때 서버의 상태와 동작 정보를 시간 경과에 따라 기록된 결과이다.  
로그는 시스템의 오류와 문제들을 쉽게 찾아낼 수 있도록 도와준다.  
반면, 메트릭은 시스템의 성능과 상태에 대한 통계적인 정보를 의미한다.  
메트릭을 잘 수집하면 시스템의 현재 상태를 손쉽게 파악할 수 있고, 사업 현황에 관한 유용한 정보를 얻을 수 있다.  
가령, 메트릭은 DAU, Rentnsion, CPU 사용량, 메모리 사용량 등이 있다.

### 로그와 메트릭을 수집해 본 적이 있는지??

스프링 부트 액추에이터를 사용해 메트릭을 생성하고 프로메테우스에 저장한 다음 그라파나로 시각화한 경험이 있다.  
```
CPU, 메모리, JVM 힙 사용량
톰캣 스테드풀과 데이터베이스 커넥션 풀 상태
error 레벨 로그 증가량
```
로깅은 LogBack을 이용하였다. 그리고 Loki에 7일 동안 보관하도록 설정하였으며 로그 추적을 위해 MDC를 사용했다.  

### 메트릭을 수집한 이유가???

CPU, 메모리, JVM 사용량 지표를 수집한 이유는 서비스가 현재 안정적으로 동작하고 있는지 파악하기 위함이다.  
또한, 톰캣 스레드 풀과 커넥션 풀의 상태와 error 레벨 로그를 수집한 이유는 서버 프로그램 내부에 비정상적인 상황이 생기는 것을 신속히 대응하기 위함이다.  

### System.out.println을 사용하면 로깅 프레임워크는 사용하지 않아도 되는 것 아닌가??

로그를 출력하는 경우 대기 시간이 발생한다.  
그리고, 로그 또한 데이터이기 때문에 저장 공간을 요구한다.  
따라서, 정말로 필요한 겨우우에만 로깅을 수행하는 것이 비용 효율적이다.  
하지만, System.out.println은 로그 레벨 설정과 환경 별 필터링을 적용하기 까다롭다.  
반면, 로깅 프레임워크는 로그 레벨 설정, 필터링 등 로그의 양을 조절하기 위한 기능을 제공하기 때문에 이를 사용하는 것이 서비스 운영에 유리하다.

-----
- [[제미니의 개발실무] 로깅과 로그관리 + 분산 추적](https://youtu.be/c7V52EMKXQM?si=reTb9qmJtBNyf1aj)
- [[10분 테코톡] ☂️ 검프의 Logging(로깅) #1](https://youtu.be/1MD5xbwznlI?si=x-MM9GJedGZp71XD)
- [[10분 테코톡] ☂️ 검프의 Logging(로깅) #2](https://youtu.be/JqZzy7RyudI?si=42hSLrogpWHwCt3A)
- [[액추에이터] - 액추에이터(Actuator) 시작하기](https://ttl-blog.tistory.com/1322)
- [[액추에이터] - 마이크로미터(Micrometer)와 메트릭(Metric)](https://ttl-blog.tistory.com/1322)
